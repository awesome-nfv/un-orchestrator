<?xml version="1.0" encoding="UTF-8"?> 

<network-functions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:noNamespaceSchemaLocation="network-functions.xsd">
                 
	<!--
		This is an example of configuration file for the name-resolver. For each
		network function name, it contains a list of possible implementations for
		that network function.
		
		An implementation can be:
		* a 'docker' container
		* a 'dpdk' (secondary) process
		* a 'kvm' virtual machine
		
		In case of docker container, the file specifies the URI from which the
		image of this container can be downloaded.
		
		In case of dpdk (secondary) process, the file specifies the URI from which
		the executable can be retrieved and the number of cores required by the
		network function. Since the URI can be a web URL or a path on the local file
		system, the file also specifies to interpret the URI through the attribute
		location.
		
		In case of KVM virtual machine, the file specifies an URI that points to an XML
		Libvirt domain definition, which the orchestrator uses as a template for the
		creation and execution of the network function.
	-->
	<network-function name="example" num-ports="4" description="Example VNF with several implementations">
		<!-- Several implementations are available for this network function -->
		<implementation type="docker" uri="example"/>
		<implementation type="dpdk" uri="https://nf_repository.com/example" cores="1" location="remote"/>
		<implementation type="dpdk" uri="../NFs/dpdk/example/build/example" cores="1" location="local"/>
		<implementation type="kvm" uri="../NFs/kvm/example/example_vnf_template.xml">
			<!--
				KVM requires to specify, for each port of the VM, it's type.
				Note that some types are not available with all the possibile vSwitches.
				Possible values are:
				*	vhost
				*	usvhost
				*	ivshmem
			-->
			<port port-id="1" port-type="vhost"/>
			<port port-id="2" port-type="vhost"/>
		</implementation>
	</network-function>
	
	<network-function name="firewall" num-ports="2" description="iptables based firewall">
		<!-- Only a docker implementation is available for this network function -->
		<implementation type="docker" uri="firewall"/>
	</network-function>
	
	<!-- un orchestrtator adds veth interfaces for docker, be aware that max length for vnf name is 7 chars in this case  -->
	<network-function name="ovs1" num-ports="4" description="openvswitch in userspace ip 10.0.10.1/24">
			<!-- Only a docker implementation is available for this network function -->
			<implementation type="docker" uri="ovs1"/>
	</network-function>
	
	<network-function name="ovs2" num-ports="4" description="openvswitch in userspace ip 10.0.10.2/24">
			<!-- Only a docker implementation is available for this network function -->
			<implementation type="docker" uri="ovs2"/>
	</network-function>
	
	<network-function name="ctrl1" num-ports="1" description="control app for elastic router ip 10.0.10.100/24">
			<!-- Only a docker implementation is available for this network function -->
			<implementation type="docker" uri="ctrl1"/>
	</network-function>

	<network-function name="ubuntu1" num-ports="4" description="basic ubuntu docker">
			<!-- Only a docker implementation is available for this network function -->
			<implementation type="docker" uri="ubuntu1"/>
	</network-function>

</network-functions>
